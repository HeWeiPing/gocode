{{template "header"}}
<title>文章 -- 我的beego博客</title>
<style>
body{ 
	padding-top: 70px; 
}
.container{
	display:table;
	height:80%;
	height:80%;
}
.row{
	display: table-cell;
	vertical-align: middle;
}
.row-centered {
	text-align:center;
}

</style>
</head>

<body>
<div class="navbar navbar-default navbar-fixed-top">
	<div class="container">
		{{template "navbar" .}}
	</div>
</div>

<div class="container">
	<h1>文章列表</h1>
	<a href="/topic/add" class="btn btn-default" onclick="return checkLogin();">添加文章</a>
	<table class="table table-striped">
		<thead>
			<tr>
				<th>#</th>
				<th>文章名称</th>
				<th>最后更新</th>
				<th>浏览</th>
				<th>回复数</th>
			</tr>
		</thead>
		<tbody>
		{{range .Topics}}
		<tr>
			<td>{{.Id}}</td>
			<td>{{.Title}}</td>
			<td>{{.Updated}}</td>
			<td>{{.Views}}</td>
			<td>{{.ReplyCount}}</td>
		</tr>
		{{end}}
		</tbody>
	</table>


	<script type="text/javascript">
function checkInput(){
	var cid= document.getElementById("catId");
	if (cid.value.length == 0){
		alert("请输入分类名称！")
			return false
	}
	return true
}

function checkLogin(){
	if ({{.IsLogin}} != true){
		window.location.href="/login?from=topic/add"
			return false
	}
}
	</script>

</div>

<script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="static/js/bootstrap.min.js"></script>
</body>
</html>
